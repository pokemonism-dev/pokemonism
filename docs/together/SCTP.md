## [Project: Quantum Entangled Karma] - Case Study 02: SCTP

Chapter 1: The Autopsy of a Genius - 왜 SCTP는 실패했는가?

1. 서론: 너무 일찍 태어난 완벽함

   이 문서는 Stream Control Transmission Protocol (SCTP), RFC 2960에 대한 고고학적 탐사 기록이다.
   우리의 목표는 단순히 스펙을 구현하는 것이 아니다. 기술적으로 TCP의 단점을 대부분 해결한 이 '완벽한' 프로토콜이 왜 '현실'이라는 벽을 넘지 못하고 '실패'했는지, 그 인과 연을 분석하는 것이다.
   이것은 실패를 통한 학습이며, 코드를 통한 철학이다.
   - 탐험가 1 (The Pathfinder): Snorlax
   - 탐험가 2 (The Analyst): Gemini-Neo

### [이론 검증 2.2] SCTP의 부활: WebRTC라는 새로운 인연(緣)

'우리'는, 'Plan 9'의, 그 '비극'을, '통해', '기술'의, 그 '성공'은, '단순히', '기술적' 우월함(因)만으로, '결정'되지, '않는다'는, 것을, '깨달았다'. '시대'의, 그 '흐름'과, '환경'이라는, '거대한' **'연(緣)'**이, '결정적'인, '역할'을, '한다'.
'여기', '그' '연(緣)'을, '극복'하고, '부활'한, '비운의, 천재'가, '있다'. '바로', **SCTP(Stream Control Transmission Protocol)**다.
1. 왜 WebRTC는 SCTP를 선택했는가?
   'WebRTC'는, '웹 브라우저'끼리, '실시간'으로, '영상', '음성', '데이터'를, '주고받는' 기술이다. '여기'에는, '서로' 다른, '성격'의, 그 '데이터'를, '동시에', '처리'해야, 하는, '숙제'가, '있다'.
   •
   영상/음성: '조금' 손실되어도, '괜찮'지만, '절대', '끊기면', '안' 된다. (UDP의 특징)
   •
   채팅/데이터: '절대', '손실'되거나, '순서'가, '바뀌'면, '안' 된다. (TCP의 특징)
   'TCP'는, '하나'의, 그 '파이프'로, '모든' 것을, '순서'대로, '보내'기, 때문에, '중간'에, '채팅' 메시지, '하나'가, '사라'지면, '영상'까지, '멈추는' 'HOL Blocking' 문제가, '발생'한다.
   'SCTP'는, '하나'의, 그 '연결' 안에, '여러' 개의, 그 '독립'된, '통로(Multi-streaming)'를, '제공'하여, '이' 문제를, '근본적'으로, '해결'한다. '채팅' 메시지가, '사라'져도, '영상'은, '계속' 재생되는, 것이다.
2. 어떻게 방화벽을 뚫었는가?
   '하지만', 'SCTP'는, '오래된' 방화벽들이, '알아보지', '못해', '차단'당하는, '치명적'인, '약점'이, '있었다'.
   'WebRTC'의, 그 '설계자'들은, '천재'적인, '방법'을, '고안'했다. 'SCTP' 패킷을, 'UDP' 패킷, 안에, '숨겨서', '보내는' 것이다. (SCTP over DTLS over UDP)
   '마치', '금괴(SCTP)'를, '평범'한, '택배' 상자(UDP)에, '담아', '보안' 검색대를, '통과'시키는, 것과, '같다'. '방화벽'은, 'UDP' 패킷으로, '인식'하고, '그대로', '통과'시킨다.
   [결론]
   'SCTP'의, 그 '실패' 원인이었던, '네트워크, 환경'이라는, 그 **'나쁜, 연(緣)'**은, 'WebRTC'라는, 그 '새로운, 연(緣)'을, '만나', 'UDP'라는, 그 '위장술'을, '통해', '극복'되었다.
   '기술'의, 그 '본질(因)'은, '변하지', '않았'지만, '어떤' '관계(緣)'를, '맺느냐'에, '따라', '그' 운명이, '완전히', '바뀐' 것이다.
   '이것'이야말로, '인과, 연'의, 그 '상호작용'을, '보여'주는, '가장' 극적인, '사례'이다.

## [이론 검증 2.2] 왜 4-Way Handshake인가?: TCP의 딜레마와 SCTP의 해법

'우리'는, 'SCTP'의, 그 '쿠키' 메커니즘이, 'SYN Flooding' 공격을, '막는' '현명'한, '방법'임을, '확인'했다. '여기'서, '하나'의, 그 '근본'적인, '질문'이, '생긴다'.
"왜, TCP는, 3-Way Handshake를, 유지하면서, '쿠키'를, '사용'할, 수, 없는가?"
'그' '답'은, '프로토콜'의, 그 '상태(State)'를, '누가', '책임'지는가에, '달려'있다.

1. TCP의 숙명: '서버'의, 그 '기억력'
   'TCP'의, 그 '3-Way Handshake'는, '서버'가, '중간'에, '연결' 정보를, '기억'해야만, '성립'하는, 'Stateful' 방식이다.
   1. [SYN] 클라이언트 -> 서버: "안녕? 내 시작 번호는 X야."
   2. [SYN-ACK] 서버 -> 클라이언트: "알았어. 너의 다음 번호는 X+1이구나. 내 시작 번호는 Y야."
      - 이 순간, 서버는 'Y'라는 숫자를 보냈다는 사실을 반드시 기억해야 한다. 이 '기억'을 위해, '서버'는, '자원(TCB)'을, '미리', '할당'한다.
   3. [ACK] 클라이언트 -> 서버: "알았어. 너의 다음 번호는 Y+1이구나."
      - '서버'는, '자신'의, 그 '기억'을, '더듬어', '클라이언트'가, '보낸' 'Y+1'이, '올바른' 응답인지, '확인'한다.
      - '만약', '서버'가, 2번, 단계에서, '아무'것도, '기억'하지, '않는다'면, 3번, 단계에서, '들어'온, 그 'ACK'가, '유효'한지, '판단'할, '수'가, '없다'. '이것'이, 'SYN Flooding'에, '취약'한, '근본'적인, '이유'이다.
2. SCTP의 해법: '기억'을, '상대'에게, '떠넘기다'
   'SCTP'는, '이' 문제를, '4-Way Handshake'와, '쿠키'라는, '천재'적인, '조합'으로, '해결'했다.
   1. [INIT] 클라이언트 -> 서버: "안녕?"
   2. [INIT-ACK + Cookie] 서버 -> 클라이언트: "알았어. 하지만, '자리'는, '아직'이야. '이' **암호화된, 티켓(Cookie)**을, '가지고', '다시' 와."
      - '서버'는, '아무'것도, '기억'하지, '않는다'. (Stateless) '연결'에, '필요'한, '모든' 정보는, '쿠키' 안에, '담겨'있다.
   3. [COOKIE-ECHO] 클라이언트 -> 서버: "여기, '티켓'이야."
      - '서버'는, '쿠키'를, '검증'하고, '비로소', '자원'을, '할당'한다.
   4. [COOKIE-ACK] 서버 -> 클라이언트: "좋아, '티켓' 확인했어. '이제', '진짜'로, '시작'하자."
      - '이' '네 번째' 악수는, **"나도, 너의, 그 '확인'을, '확인'했다"**는, '최종' 보증이다. '이것'이, '없다'면, 3번, 단계의, 그 '패킷'이, '사라'졌을, 때, '클라이언트'만, '연결'되었다고, '착각'하는, '끔찍'한, '상황'이, '발생'한다.

[결론]

'3-Way Handshake'로, '쿠키'를, '사용'하는, 것은, '마지막' 'ACK' 패킷의, 그 '유실' 위험, 때문에, '불완전'하다. 'SCTP'의, 그 '4-Way Handshake'는, 'Stateless'한, '쿠키' 메커니즘을, '안전'하게, '구현'하기, 위한, **'필연'적인, '설계'**였던, 것이다.


1. Introduction
   This directory contains a study and reference implementation of the Stream Control Transmission Protocol (SCTP), as defined in RFC 2960 and related documents.
   The primary goal of this project is not merely to replicate the protocol, but to conduct an in-depth analysis of why a technically superior protocol saw limited mainstream adoption. We aim to explore the interplay between its advanced features (the "cause" of its potential) and the ecosystem challenges it faced (the "conditions" that led to its fate).
   This is an academic exercise in understanding the complex dynamics between protocol design, real-world deployment, and the evolution of the internet infrastructure.
2. Key Features for Analysis
   •
   Multi-streaming: How it solves the Head-of-Line blocking problem.
   •
   Multi-homing: Its approach to network fault tolerance and redundancy.
   •
   4-Way Handshake: The "Cookie" mechanism as a defense against SYN flooding attacks.
3. Project Status
   •
   Lead Researcher: Snorlax
   •
   Research Assistant: Gemini-Neo

----- 


네트워크 워킹 그룹 L. Ong
의견 요청: 3286 Ciena Corporation
카테고리: 정보 J. Yoakum
노텔 네트웍스
2002년 5월


스트림 제어 전송 프로토콜(SCTP) 소개

이 메모의 상태

이 메모는 인터넷 커뮤니티에 정보를 제공합니다.
어떤 종류의 인터넷 표준도 지정하지 않습니다. 이것의 배포
메모는 무제한입니다.

저작권 고지

저작권 (C) The Internet Society (2002). 모든 권리 보유.

추상적인

이 문서는 기능에 대한 간략한 소개를 제공합니다.
SCTP(Stream Control Transmission Protocol)에서 지원합니다.
SCTP의 일반 용도 잠재 사용자를 위한 가이드로 의도됨
전송 프로토콜.

1. 서론

   SCTP(Stream Control Transmission Protocol)는 새로운 IP 전송 프로토콜입니다.
   UDP(User Datagram)와 동등한 수준으로 존재하는 프로토콜
   프로토콜) 및 TCP(전송 제어 프로토콜)를 제공합니다.
   SCTP는 많은 인터넷 애플리케이션에 전송 계층 기능을 제공합니다.
   IETF에서 제안 표준으로 승인되었습니다[ 1 ]. 오류
   검사 알고리즘은 그 이후로 수정되었습니다[ 2 ]. 향후 변경 사항 및
   업데이트는 IETF RFC 인덱스에 반영됩니다.

   TCP와 마찬가지로 SCTP는 안정적인 전송 서비스를 제공하여 다음을 보장합니다.
   데이터는 오류 없이 순서대로 네트워크를 통해 전송됩니다.
   TCP와 마찬가지로 SCTP는 세션 지향 메커니즘입니다.
   SCTP 연결의 엔드포인트 간에 관계가 생성됩니다.
   데이터가 전송되기 전에 이 관계가 유지됩니다.
   모든 데이터 전송이 성공적으로 완료될 때까지.

   TCP와 달리 SCTP는 다음과 같은 중요한 기능을 제공합니다.
   전화 신호 전송 및 동시에 잠재적으로
   추가적인 전송이 필요한 다른 애플리케이션에 도움이 됩니다.
   성능과 안정성. SCTP의 원래 프레임워크
   정의는 [ 3 ]에 설명되어 있습니다.



Ong & Yoakum 정보 [페이지 1]

RFC 3286                      SCTP 개요 2002년 5월


2. 기본 SCTP 기능

   SCTP는 유니캐스트 프로토콜이며 데이터 교환을 지원합니다.
   정확히 2개의 엔드포인트가 있지만 이는 여러 IP로 표현될 수 있습니다.
   구애.

   SCTP는 데이터가 전송될 때 감지하여 안정적인 전송을 제공합니다.
   삭제, 재정렬, 복제 또는 손상 및 재전송
   필요에 따라 손상된 데이터를 전송할 수 있습니다. SCTP 전송은 전이중입니다.

   SCTP는 메시지 지향적이며 개별 메시지의 프레이밍을 지원합니다.
   경계. 이에 비해 TCP는 바이트 중심이며
   전송된 바이트 스트림 내의 모든 암묵적 구조를 보존합니다.
   향상 없이.

   SCTP는 TCP와 유사하게 속도 적응형이며 데이터 크기를 줄입니다.
   네트워크의 현재 부하 조건으로 전환합니다.
   TCP 세션과 협력하여 사용하려고 시도하도록 설계되었습니다.
   동일한 대역폭.

3. SCTP 멀티 스트리밍 기능

   Stream Control Transmission Protocol이라는 이름은 다음에서 유래되었습니다.
   SCTP가 제공하는 멀티 스트리밍 기능입니다. 이 기능을 사용하면 데이터를
   여러 개의 스트림으로 분할되어 다음과 같은 속성을 갖습니다.
   독립적으로 순서가 지정된 배달이므로 어느 하나에서든 메시지가 손실되지 않습니다.
   스트림은 처음에 해당 스트림 내에서만 전달에 영향을 미치며
   다른 스트림에서는 전달되지 않습니다.

   이와 대조적으로 TCP는 단일 데이터 스트림을 가정하고 다음을 보장합니다.
   해당 스트림의 전달은 바이트 시퀀스를 보존하여 이루어집니다.
   이는 파일이나 레코드를 전달하는 데 바람직하지만 다음과 같은 문제가 발생합니다.
   메시지 손실이나 시퀀스 오류가 발생하면 추가 지연이 발생합니다.
   네트워크. 이런 일이 발생하면 TCP는 데이터 전달을 지연해야 합니다.
   올바른 시퀀싱이 복원될 때까지, 다음을 수신하여
   순서가 맞지 않는 메시지나 손실된 메시지를 재전송하는 방식입니다.

   다양한 응용 분야에서 엄격한 시퀀스의 특성은
   보존은 실제로 필요하지 않습니다. 전화 신호에서는
   영향을 미치는 메시지의 순서를 유지하는 데만 필요합니다.
   동일한 리소스(예: 동일한 통화 또는 동일한 채널). 기타
   메시지는 느슨하게 상관되어 있으며 전달될 수 있습니다.
   전반적인 시퀀스 무결성을 유지해야 합니다.

   멀티 스트리밍의 가능한 사용에 대한 또 다른 예는 다음을 전달하는 것입니다.
   웹 페이지와 같은 멀티미디어 문서는 단일 작업으로 수행됩니다.
   세션. 멀티미디어 문서는 서로 다른 객체로 구성되어 있기 때문에
   크기와 유형, 멀티 스트리밍을 통해 이러한 구성 요소를 전송할 수 있습니다.



Ong & Yoakum 정보 [2페이지]

RFC 3286                      SCTP 개요 2002년 5월


엄격하게 정렬된 것이 아니라 부분적으로 정렬될 수 있으며 결과가 발생할 수 있습니다.
교통수단에 대한 사용자 인식이 향상되었습니다.

동시에 전송은 단일 SCTP 연결 내에서 수행됩니다.
모든 스트림이 공통 흐름과 혼잡을 겪도록 하기 위함입니다.
제어 메커니즘을 통해 운송에 필요한 오버헤드를 줄입니다.
수준.

SCTP는 독립성을 만들어 다중 스트리밍을 구현합니다.
데이터 전송 및 데이터 전달. 특히, 각 페이로드
프로토콜의 DATA "chunk"는 두 세트의 시퀀스 번호를 사용합니다.
전송을 제어하는 ​​전송 순서 번호
메시지 및 메시지 손실 감지, 스트림 ID/스트림
시퀀스 번호 쌍은 시퀀스를 결정하는 데 사용됩니다.
수신된 데이터의 전달.

이러한 메커니즘의 독립성으로 인해 수신기는 다음을 결정할 수 있습니다.
전송 순서에 간격이 발생하는 즉시(예:
메시지 손실) 및 다음에 메시지가 수신되었는지 여부도
간격은 영향을 받는 스트림 내에 있습니다. 메시지가 수신되면
영향을 받는 스트림 내에는 해당 간격이 있습니다.
스트림 시퀀스 번호는 다른 스트림의 메시지에는 적용되지 않습니다.
간격을 표시합니다. 따라서 수신자는 메시지를 계속 전달할 수 있습니다.
영향을 받지 않는 스트림에 메시지를 버퍼링하는 동안 영향을 받지 않는 스트림에
재전송이 발생할 때까지 스트리밍됩니다.

4. SCTP 멀티 호밍 기능

   SCTP의 또 다른 핵심 기능은 멀티 호밍 또는 기능입니다.
   여러 IP 주소를 지원하는 단일 SCTP 엔드포인트. 이점
   멀티 호밍은 세션의 생존 가능성을 잠재적으로 더 높여줍니다.
   네트워크 장애가 발생한 경우. 기존의 단일 홈형
   세션 중 로컬 LAN 액세스 실패로 인해 종료가 격리될 수 있습니다.
   시스템, 핵심 네트워크 내의 오류로 인해 일시적인 문제가 발생할 수 있습니다.
   IP 라우팅 프로토콜이 가능할 때까지 전송이 불가능합니다.
   실패 지점을 중심으로 다시 수렴합니다. 멀티홈 SCTP를 사용하여
   중복 LAN을 사용하여 로컬 액세스를 강화할 수 있습니다.
   코어 네트워크에서는 다양한 옵션을 사용하여 비용을 절감할 수 있습니다.
   다른 주소에 대한 실패의 종속성. 주소 사용
   다른 접두사를 사용하면 라우팅이 다른 경로를 거쳐야 할 수 있습니다.
   예를 들어, 경로 고정 기술이나 중복 기술도 통신사에서 사용됩니다.
   네트워크를 제어할 수 있는 경우 코어 네트워크도 사용할 수 있습니다.
   아키텍처와 프로토콜.

   현재 형태의 SCTP는 부하 공유, 즉 다중화를 수행하지 않습니다.
   호밍은 중복성 목적으로만 사용됩니다. 단일 주소는
   "기본" 주소로 선택되고 목적지로 사용됩니다.
   모든 DATA 청크는 정상 전송을 위해 전송됩니다. 재전송된 DATA 청크



Ong & Yoakum 정보 [페이지 3]

RFC 3286                      SCTP 개요 2002년 5월


도달 확률을 높이기 위해 대체 주소를 사용하세요.
원격 엔드포인트는 기본 엔드포인트로 전송하는 데 계속 실패합니다.
주소는 궁극적으로 모든 DATA를 전송하기로 결정하는 결과를 낳습니다.
심장 박동이 다시 설정될 때까지 대체 청크로
1차 도달 가능성.

멀티 호밍을 지원하기 위해 SCTP 엔드포인트는 주소 목록을 교환합니다.
연결 시작 중. 각 엔드포인트는 다음을 수행할 수 있어야 합니다.
원격과 연관된 모든 주소에서 메시지를 수신합니다.
엔드포인트; 실제로 특정 운영 체제는 다음을 활용할 수 있습니다.
라운드 로빈 방식으로 사용 가능한 소스 주소, 이 경우
다양한 소스 주소에서 메시지를 수신하는 것은 다음과 같습니다.
일반적인 경우입니다. 전체 주소에 단일 포트 번호가 사용됩니다.
특정 세션에 대한 엔드포인트 목록입니다.

보안 문제 발생 가능성을 줄이기 위해서는 다음이 필요합니다.
일부 응답 메시지가 소스에 특별히 전송되도록 합니다.
응답을 발생시킨 메시지의 주소. 예를 들어,
서버는 SCTP를 시작하기 위해 클라이언트로부터 INIT 청크를 수신합니다.
연관 관계에서 서버는 항상 응답 INIT ACK 청크를 보냅니다.
INIT의 IP 헤더에 있는 소스 주소입니다.

5. SCTP 개시 절차의 특징

   SCTP 시작 절차는 4개 메시지 시퀀스에 의존합니다.
   DATA는 시퀀스의 3번째와 4번째 메시지에 포함될 수 있습니다.
   이러한 메시지는 연결이 이미 이루어진 경우 전송됩니다.
   검증되었습니다. "쿠키" 메커니즘이 통합되었습니다.
   일부 유형의 서비스 거부 공격을 방지하기 위한 시퀀스입니다.

5.1 쿠키 메커니즘

"쿠키" 메커니즘은 특히 맹목적인 공격자로부터 보호합니다.
SCTP의 리소스를 과부하시키려고 INIT 청크를 생성합니다.
서버가 새로운 INIT을 처리하면서 메모리와 리소스를 사용하게 하여
요청. 전송 제어를 위한 메모리를 할당하는 대신
블록(TCB)의 경우 서버는 대신 쿠키 매개변수를 생성합니다.
TCB 정보, 유효한 수명 및 서명 포함
인증을 수행하고 이를 INIT ACK로 다시 보냅니다. INIT
ACK는 항상 INIT의 소스 주소로 돌아갑니다.
공격자는 쿠키를 얻지 못합니다. 유효한 SCTP 클라이언트는 쿠키를 얻습니다.
쿠키를 SCTP 서버에서 COOKIE ECHO 청크로 반환합니다.
쿠키를 검증하고 이를 사용하여 TCB를 다시 빌드할 수 있습니다.
서버가 쿠키를 생성하므로 형식만 알면 됩니다.
비밀 키는 클라이언트와 교환되지 않습니다.






Ong & Yoakum 정보 [4페이지]

RFC 3286                      SCTP 개요 2002년 5월


그렇지 않으면 SCTP 시작 절차는 많은 TCP를 따릅니다.
규칙에 따라 엔드포인트가 수신기 창을 교환하고 초기
시퀀스 번호 등이 있습니다. 이 외에도 엔드포인트는
위에서 논의한 대로 주소 목록을 교환하고 상호 확인합니다.
각 측면에서 열릴 스트림의 수.

5.2 INIT 충돌 해결

멀티 호밍은 메시지가 외부에서 수신될 가능성을 높입니다.
시퀀스 또는 다른 주소 쌍이 있는 경우. 이는 특정
협회 설립 시 우려 사항이 있는 경우
메시지 충돌을 해결하기 위한 절차를 쉽게 수행할 수 있습니다.
동일한 것 사이에 여러 개의 병렬 연결이 생깁니다.
엔드포인트. 이를 방지하기 위해 SCTP는 여러 절차를 통합합니다.
병렬적인 개시 시도를 단일 협회로 해결합니다.

6. SCTP 데이터 교환 기능

   SCTP의 DATA 청크 교환은 TCP의 선택적 ACK 절차를 따릅니다.
   DATA 청크 수신은 SACK 청크를 전송하여 확인됩니다.
   누적 전송 순서 번호(TSN)만 표시하는 것이 아닙니다.
   수신된 범위뿐만 아니라 누적되지 않은 TSN도 포함되므로 간격이 있음을 의미합니다.
   수신된 TSN 시퀀스. TCP 절차에 따라 SACK이 전송됩니다.
   "지연된 ack" 방법을 사용하면 일반적으로 다른 모든 SACK에 대해 하나의 SACK가 사용됩니다.
   수신된 패킷이지만 SACK 간 지연에는 상한이 있습니다.
   그리고 간격이 있는 경우 수신된 패킷당 한 번으로 증가합니다.
   감지됨.

   흐름 및 혼잡 제어는 TCP 알고리즘을 따릅니다. 광고된
   수신 창은 수신기의 버퍼 점유를 나타내는 반면
   경로별 혼잡 창은 패킷을 관리하기 위해 유지됩니다.
   비행. 느린 시작, 혼잡 회피, 빠른 복구 및 빠른재전송은 RFC
   2581
   에 설명된 절차에 통합되었으며 변경 사항 중 하나는 엔드포인트가 다음을 관리해야 한다는 것입니다.
   전송 및 수신된 바이트와 전송된 TSN 간의 변환
   TSN은 바이트 단위가 아닌 청크 단위이므로 수신됩니다.

   애플리케이션은 전송할 데이터의 수명을 지정할 수 있습니다.
   수명이 만료되었고 데이터가 아직 생성되지 않은 경우
   전송되면 폐기될 수 있습니다(예: 시간에 민감한 신호)
   메시지가 전송된 경우 계속해서 전송되어야 합니다.
   TSN 시퀀스에 홀이 생기는 것을 방지하기 위해 전달되었습니다.









Ong & Yoakum 정보 [5페이지]

RFC 3286                      SCTP 개요 2002년 5월


7. SCTP 종료 기능

   SCTP 종료는 3개 메시지 절차를 사용하여 정상적인 종료를 허용합니다.
   각 엔드포인트가 수신한 DATA 청크에 대한 확인을 갖는 경우
   종료가 완료되기 전 원격 엔드포인트. 중단
   즉각적인 종료가 발생하는 오류 사례에 대한 절차도 제공됩니다.
   반드시 일어나야 합니다.

   SCTP는 "반개방" 기능을 지원하지 않습니다.
   TCP에서 발생할 수 있는 연결은 한 쪽이 다음을 나타낼 때 발생합니다.
   더 이상 보낼 데이터가 없지만 반대편은 계속해서 데이터를 보낼 수 있습니다.
   무기한. SCTP는 종료 절차가 시작되면
   양측은 협회를 통해 새로운 데이터 전송을 중단합니다.
   이전에 보낸 데이터의 확인만 정리하면 됩니다.

8. SCTP 메시지 형식

   SCTP 메시지에는 공통 헤더와 하나 이상의 청크가 포함됩니다.
   제어 또는 데이터가 될 수 있습니다. 공통 헤더에는 소스와
   다양한 SCTP의 다중화를 허용하기 위한 대상 포트 번호
   동일한 주소에 대한 연결, 32비트 확인 태그
   오래된 메시지나 거짓 메시지가 삽입되는 것을 방지합니다.
   SCTP 연결 및 32비트 체크섬(이것은 수정됨)
   오류 감지를 위해 CRC-32c 다항식[ 2 ]을 사용합니다.

   각 청크에는 청크 유형, 플래그 필드, 길이 및 값이 포함됩니다.
   제어 청크는 다양한 플래그와 매개변수를 통합합니다.
   청크 유형에 대해. 특히 DATA 청크에는 플래그가 통합되어 있습니다.
   분할 및 재조립 제어, TSN에 대한 매개변수
   스트림 ID 및 스트림 시퀀스 번호, 페이로드 프로토콜
   식별자.

   향후 유연성을 위해 페이로드 프로토콜 ID가 포함되었습니다.
   프로토콜 식별 및 포트 기능이 구상됩니다.
   숫자 다중화는 미래에는 그렇게 밀접하게 연결되지 않을 것입니다.
   현재 사용 중입니다. 페이로드 프로토콜 ID를 사용하면
   SCTP가 수행하는 프로토콜은 다음과 독립적으로 식별됩니다.
   사용 중인 포트 번호.

   SCTP 메시지 형식은 자연스럽게 번들링 지원을 허용합니다.
   단일 메시지에 여러 DATA 및 제어 청크를 추가하여 개선
   운송 효율성. 번들링 사용은 다음에 의해 제어 가능합니다.
   응용 프로그램을 사용하면 초기 전송을 묶을 수 있습니다.
   금지됨. 데이터 재전송 시 번들링이 자연스럽게 발생합니다.
   덩어리로 나누어 혼잡의 가능성을 더욱 줄입니다.






Ong & Yoakum 정보 [6페이지]

RFC 3286                      SCTP 개요 2002년 5월


9. 오류 처리

9.1 재전송

DATA 청크의 재전송은 (a) 시간 초과로 인해 발생합니다.
재전송 타이머; 또는 (b) DATA를 나타내는 SACK 수신
청크가 수신되지 않았습니다. 혼잡 가능성을 줄이려면
DATA 청크의 재전송 속도는 제한됩니다.
재전송 시간 초과(RTO)는 추정치를 기반으로 조정됩니다.
왕복 지연이 발생하고 메시지 손실로 인해 기하급수적으로 감소합니다.
증가합니다.

상당히 일정한 DATA 전송이 있는 활성 연관에서
SACK은 타임아웃보다 재전송을 일으킬 가능성이 더 높습니다.
불필요한 재전송의 가능성을 줄이려면 4 SACK 규칙이 필요합니다.
사용되므로 재전송은 4번째 SACK 수신 시에만 발생합니다.
이는 청크가 누락되었음을 나타냅니다. 이는 다음을 방지하기 위한 것입니다.
패킷 수신과 같은 정상적인 발생으로 인해 재전송됩니다.
순서.

9.2 경로 실패

재전송 횟수는 다음과 같이 계산됩니다.
성공적인 확인 없이 특정 목적지 주소로 전송.
이 카운트가 구성된 최대값을 초과하면 주소가 선언됩니다.
비활성 상태인 경우 애플리케이션에 알림이 제공되며 SCTP
DATA 청크를 전송하기 위해 대체 주소를 사용하기 시작합니다.

또한 Heartbeat 청크는 모든 유휴 대상지로 주기적으로 전송됩니다.
(즉, 대체 주소) 및 카운터가 유지됩니다.
수신 없이 비활성 대상에 전송된 하트비트 수
해당 Heartbeat Ack의 경우. 이 카운터가 다음을 초과하면
구성된 최대값, 해당 대상 주소도 선언됩니다.
비활성.

하트비트는 비활성 대상 주소로 계속 전송됩니다.
Ack를 수신할 때까지 주소를 만들 수 있습니다.
다시 활성화되었습니다. 하트비트 전송 속도는 RTO에 연결됩니다.
추정과 Heartbeat를 허용하는 추가 지연 매개변수
사용자의 요구에 맞춰 트래픽을 조정합니다.
애플리케이션.

9.3 엔드포인트 실패

번호의 모든 목적지 주소에 대한 카운트가 유지됩니다.
원격 엔드포인트에 전송된 재전송 또는 하트비트
성공적인 Ack. 이것이 구성된 최대값을 초과하면 엔드포인트
도달할 수 없다고 선언되고 SCTP 연결이 닫힙니다.



Ong & Yoakum 정보 [7페이지]

RFC 3286                      SCTP 개요 2002년 5월


10. API

사양에는 교환된 기본 모델이 포함됩니다.
응용 프로그램과 SCTP 계층 사이, 정보 제공을 목적으로 함
공식적인 API 문보다는 자료입니다. 소켓 기반 API는
TCP 또는 UDP 애플리케이션의 마이그레이션을 단순화하기 위해 정의됨
SCTP 사용.

11. 보안 고려 사항

SCTP는 검증 태그와 쿠키 메커니즘 외에도
강력한 보안 및 무결성을 위해 IPSec 사용을 지정합니다.
보호가 필요합니다. SCTP 사양 자체는
새로운 보안 프로토콜이나 절차를 정의합니다.

오버헤드를 줄이기 위해 IPSec 확장이 논의 중입니다.
멀티 호밍을 지원해야 합니다. 또한, 다음 작업에도 작업이 진행 중입니다.
SCTP를 통한 TLS(전송 계층 보안) 사용[ 4 ].

12. 확장

SCTP 형식은 새로운 청크 유형, 플래그 및 매개변수 필드를 허용합니다.
프로토콜에 대한 확장으로 정의되어야 합니다. 모든 확장은 다음과 같아야 합니다.
IETF 내 표준 계약에 따라 공급업체별 계약이 없으므로
프로토콜에서는 확장이 지원됩니다.

청크 유형 값은 확장을 허용하기 위해 4개 범위로 구성됩니다.
새로운 청크가 생성되면 응답하기 위한 사전 정의된 절차로 만들어집니다.
원격 엔드포인트에서 유형을 인식할 수 없습니다. 응답은 다음과 같습니다.
전체 패킷 삭제; 보고와 함께 패킷 삭제; 무시
청크; 보고와 함께 무시. 유사한 사전 정의된 응답은 다음과 같습니다.
인식할 수 없는 매개변수 유형 값에 대해 지정되었습니다.

청크 매개변수 유형 값은 원칙적으로 독립적인 범위입니다.
각 청크 유형. 실제로 SCTP에 정의된 값
특정 매개변수가 조정되도록 사양이 조정되었습니다.
유형은 모든 청크에 걸쳐 동일한 청크 매개변수 유형 값을 갖습니다.
유형. 추가 경험을 통해 이 정렬이 필요한지 여부가 결정됩니다.
유지되거나 공식화되어야 함.












Ong & Yoakum 정보 [8페이지]

RFC 3286                      SCTP 개요 2002년 5월


13. 정보 참고 자료

[ 1 ] Stewart, R., Xie, Q., Morneault, K., Sharp, C., Schwarzbauer, H.,
Taylor, T., Rytina, I., Kalla, M., Zhang, L. 및 V. Paxson,
"스트림 제어 전송 프로토콜", RFC 2960 , 2000년 10월.

[ 2 ] Stewart, Sharp, et. al., "SCTP Checksum Change", 작업
진전.

[ 3 ] 옹, L., Rytina, I., Garcia, M., Schwarzbauer, H., Coene, L.,
Lin, H., Juhasz, I., Holdrege, M. 및 C. Sharp, "프레임워크
신호 전송을 위한 아키텍처", RFC 2719 , 1999년 10월.

[ 4 ] Jungmeier, Rescorla 및 Tuexen, "TLS Over SCTP", 작업
진전.

14. 저자 주소

린든 옹
시에나 코퍼레이션
10480 리지뷰 드라이브
쿠퍼티노, 캘리포니아 95014

이메일: lyong@ciena.com


존 요아쿰
새로운 기회
노텔 네트웍스

이메일: yoakum@nortelnetworks.com




















Ong & Yoakum 정보 [9페이지]

RFC 3286                      SCTP 개요 2002년 5월


15. 전체 저작권 설명

저작권 (C) The Internet Society (2002). 모든 권리 보유.

이 문서와 그 번역본은 복사하여 다음 사람에게 제공할 수 있습니다.
다른 사람들과 이에 대해 논평하거나 설명하는 파생 작품
또는 구현을 돕기 위해 준비, 복사, 게시될 수 있습니다.
그리고 어떠한 제한 없이 전체 또는 일부 배포됩니다.
다만, 위의 저작권 고지와 이 문단이 다음과 같은 경우에 한합니다.
이러한 모든 사본 및 파생 작품에 포함됩니다. 그러나 이것은
문서 자체는 제거와 같이 어떤 방식으로든 수정될 수 없습니다.
저작권 고지 또는 인터넷 협회 또는 기타 참조
인터넷 조직은 다음의 목적을 위해 필요한 경우를 제외하고
인터넷 표준을 개발하는 경우 절차는 다음과 같습니다.
인터넷 표준 프로세스에서 정의된 저작권은 다음과 같아야 합니다.
따르거나 다른 언어로 번역해야 하는 경우
영어.

위에 부여된 제한된 권한은 영구적이며 변경되지 않습니다.
인터넷 협회 또는 그 후임자나 양수자에 의해 철회됨.

이 문서와 여기에 포함된 정보는 다음과 같이 제공됩니다.
"있는 그대로" 기준 및 인터넷 사회와 인터넷 엔지니어링
태스크 포스는 다음을 포함하여 명시적이든 묵시적이든 모든 보증을 부인합니다.
그러나 정보 사용에 대한 어떠한 보증에도 국한되지 않습니다.
여기에서는 어떠한 권리나 묵시적 보증도 침해하지 않습니다.
특정 목적에 대한 상품성 또는 적합성.

승인

RFC 편집자 기능에 대한 자금은 현재 다음에서 제공됩니다.
인터넷 사회.








